<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>어디 갈래?</title>

  <link rel="stylesheet" href="styles.css">

  <script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyAzs_JWrd2fjQl388h83v2xDT7UeheB-Sw&libraries=places&callback=initMap" async defer ></script>
</head>
<body>
  <!-- 초기 화면 -->
  <div id="initialScreen" class="screen">
    <header>
      <h1>어디 갈래?</h1>
    </header>
    <!-- LittleP를 화면 중심에 배치 -->
  <div id="littlep-container">
    <img id="littlep" src="LITTLEP.png" alt="Little Prince">
  </div>
  <!-- 지구본을 LittleP 아래로 배치 -->
  <div id="globe-container">
    <img id="globe" src="GLOBE.png" alt="Globe">
  </div>
  <div class="center-buttons">
    <button onclick="useCurrentLocation()">현재 위치 사용</button>
    <button onclick="openDirectLocationModal()">직접 위치 설정</button>
  </div>
</div>

  <!-- 구글 지도 모달 윈도우 -->
  <div id="mapModal" class="modal">
    <div class="modal-content">
      <span class="close" onclick="closeModal('mapModal')">&times;</span>
      <div id="modalContent"></div>
    </div>
  </div>

<!-- 위치 설정 후 정보 화면 -->
 
<div id="infoScreen" class="screen" style="display: none; flex-direction: column;">

  <!-- 위쪽 정보 섹션 -->
  <div style="text-align: center; margin: 20px 0;">
    <p>현재 위치: <span id="mapContainer">정보 없음</span></p>
    <p>날씨: <span id="weatherInfo">정보 없음</span></p>
    <p>옷차림 추천: <span id="clothingAdvice">정보 없음</span></p>
  </div>
  
  <!-- 버튼 섹션 -->
  <div style="display: flex; justify-content: space-evenly; gap: 3cm; margin: 20px;">
    <button id="cultureButton" style="width: 7.5cm; height: 7.5cm;" onclick="openModal('cultureModal')">문화&언어 정보</button>
    <button id="googlePlaceButton" style="width: 7.5cm; height: 7.5cm;" onclick="openModal('placeModal')">장소 검색<br>by Google Place</button>
    <button id="youtubeButton" style="width: 7.5cm; height: 7.5cm;" onclick="searchLiveStreams()">Live 영상 검색<br>by Youtube</button>

  </div>
</div>


<!--문화 언어 모달-->
<div id="cultureModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('cultureModal')">&times;</span>
    <button onclick="openModal('cultureModal')">문화 정보</button>
    <button onclick="openModal('languageModal')">언어 정보</button>
    <a href="https://www.0404.go.kr" target="_blank">외교부 정보</a>
  </div>  
</div>

<!-- 장소 검색 모달 -->
<div id="placeModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('placeModal')">&times;</span>
    <h3>장소 검색 by Google Place</h3>
    <p>Google Places API를 이용하여 장소 정보를 검색합니다.</p>
    

    <!-- 카테고리 선택 -->
    <label for="mainCategory">중위 카테고리:</label>
    <select id="mainCategory" onchange="populateSubCategories()">
      <option value="" disabled selected>--골라주세요!--</option>
      <option value="lodging">숙박 및 관광</option>
      <option value="food">음식점</option>
      <option value="shopping">쇼핑 및 상업</option>
      <option value="outdoor">야외 활동 및 자연</option>
      <option value="culture">문화 및 예술</option>
      <option value="transport">교통 및 여행</option>
      <option value="alcohol">주류</option>
      <option value="convenience">기타 편의 시설</option>
      <option value="health">건강 및 의료</option>
      <option value="public">공공 서비스 및 기관</option>
      <option value="finance">금융 및 비즈니스</option>
      <option value="religion">종교 및 기념</option>
    </select>

    <label for="subCategory">하위 카테고리:</label>
    <select id="subCategory">
      <!-- JavaScript로 동적으로 생성 -->
    </select>

    <!-- 정렬 기준 선택 -->
    <label for="sortBy">정렬 기준:</label>
    <select id="sortBy">
      <option value="prominence">인기도</option>
      <option value="distance">가까운 거리순</option>
    </select>

    <!-- 반경 선택 -->
    <label for="radius">반경:</label>
    <select id="radius">
      <option value="3000">3km</option>
      <option value="7000">7km</option>
      <option value="15000">15km</option>
    </select>

    <button onclick="searchPlaces()">검색</button>

    <p>도시 중심 근처: 3km (이동이 쉬운 도심 지역에 적합)<br>
      도시 외곽 및 교외 지역: 7km (더 넓은 지역 탐색에 적합)<br>
      자연 명소 탐색: 15km (드라이브 또는 자연 탐험을 고려한 반경)</p>
      
  </div>
</div>

<!-- 결과 화면 -->
<div id="placeSearchResultScreen" class="screen" style="display: none;">
  <div style="display: flex; flex-direction: row; height: 100%;">

    <!-- 왼쪽: 장소 목록과 검색 조건 -->
    <div class="left" style="width: 10cm; padding: 20px; border-right: 1px solid #ccc; display: flex; flex-direction: column;">
      <div id="selectedConditions" style="margin-bottom: 20px;">
        <!-- 검색 조건이 여기에 표시됩니다 -->
        <h3>선택한 조건</h3>
        <p>조건이 여기에 표시됩니다</p>
      </div>
      <div class="place-list" style="flex: 1; overflow-y: auto;">
        <h2>검색된 장소</h2>
        <!-- 장소 목록이 여기에 표시됩니다 -->
      </div>
    </div>

    <!-- 오른쪽: 지도 -->
    <div class="right" style="flex: 1; position: relative;">
      <div id="resultMap" style="width: 100%; height: 100%;"></div>
    </div>
  </div>
  <div style="margin-top: 20px; text-align: center;">
    <button onclick="goBackToSearch()">검색 화면으로 돌아가기</button>
  </div>
</div>




<!-- 영상 검색 모달 -->
<div id="youtubeModal" class="modal">
  <div class="modal-content">
    <span class="close" onclick="closeModal('youtubeModal')">&times;</span>
    <h3>Live 영상 검색 by Youtube</h3>
    <p>YouTube API를 이용하여 해당 위치 근처에서 방송 중인 실시간 스트림 검색합니다.<br> 
      (예: 축제, 스포츠 경기 등)</p>
    <div id="youtubeVideos"></div>
  </div>
</div>


  <script src="scripts.js"></script>
</body>
</html>
